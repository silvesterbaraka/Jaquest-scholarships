<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Book an Appointment | JaQuest</title>

  <!-- Tailwind -->
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">

  <!-- Flatpickr -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css"/>

  <!-- Font -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">

  <style>
    body {
      padding-top: 100px;
      background: #0b1220;
      color: #f8fafc;
      font-family: 'Poppins', sans-serif;
    }

    /* NAV LINKS */
    nav a {
      color: #e5e7eb;
      transition: color .2s;
    }
    nav a:hover {
      color: #fde047;
    }

    /* FORM */
    .form-container {
      background: rgba(15,23,42,0.95);
      border-radius: 18px;
      border: 1px solid rgba(255,255,255,0.12);
    }

    .form-input,
    .form-select,
    .form-textarea {
      width: 100%;
      padding: 14px 16px;
      background: rgba(255,255,255,0.12);
      border: 1px solid rgba(255,255,255,0.35);
      border-radius: 12px;
      color: #f9fafb;
      font-size: 0.95rem;
    }

    .form-input::placeholder {
      color: #cbd5f5;
    }

    .form-input:focus,
    .form-select:focus,
    .form-textarea:focus {
      outline: none;
      border-color: #38bdf8;
      box-shadow: 0 0 0 3px rgba(56,189,248,.45);
      background: rgba(255,255,255,0.16);
    }

    .form-select option {
      background-color: #0f172a;
      color: #f8fafc;
    }

    .form-button {
      background: linear-gradient(to right,#6366f1,#4f46e5);
      border-radius: 9999px;
      padding: 14px;
      font-weight: 600;
      letter-spacing: 0.3px;
      transition: transform .2s, box-shadow .2s;
    }

    .form-button:hover {
      transform: translateY(-1px);
      box-shadow: 0 14px 32px rgba(79,70,229,.5);
    }

    #mobileMenu {
      background-color: #f5deb3;
      color: #1e293b;
    }

    #mobileMenu a {
      color: #1e293b;
      font-weight: 500;
    }

    #mobileMenu a:hover {
      color: #1d4ed8;
    }
  </style>
</head>

<body>

<!-- ================= NAVBAR ================= -->
<nav class="fixed top-0 left-0 w-full bg-blue-800 text-white shadow-lg z-50">
  <div class="max-w-7xl mx-auto px-4 h-24 flex justify-between items-center">

    <div class="flex items-center gap-4">
      <img src="jaquestlogo.jpg" class="h-14 w-14 rounded-full ring-2 ring-white">
      <span class="text-2xl font-bold tracking-wide">JaQuest</span>
    </div>

    <!-- Desktop Menu -->
    <div class="hidden md:flex gap-8 text-lg">
      <a href="index.html">Home</a>
      <a href="services.html">Services</a>
      <a href="courses.html">Courses</a>
      <a href="blog.html">Blog</a>
      <a href="contact.html">Contact</a>
    </div>

    <!-- Mobile Toggle -->
    <button id="menuBtn"
      class="md:hidden p-3 bg-white text-blue-800 rounded-full text-xl shadow-lg"
      aria-label="Open menu">
      â˜°
    </button>
  </div>

  <!-- Mobile Menu -->
  <div id="mobileMenu"
    class="fixed top-0 left-0 h-full w-4/5 max-w-sm shadow-2xl
           transform -translate-x-full transition-transform duration-300 md:hidden z-50">

    <div class="flex justify-end p-4">
      <button id="closeBtn" class="text-3xl font-bold">&times;</button>
    </div>

    <div class="flex flex-col space-y-6 p-6 text-lg">
      <a href="index.html">Home</a>
      <a href="services.html">Services</a>
      <a href="courses.html">Courses</a>
      <a href="blog.html">Blog</a>
      <a href="contact.html">Contact</a>
    </div>
  </div>
</nav>

<!-- ================= APPOINTMENT SECTION ================= -->
<section class="min-h-screen pt-28 pb-20 px-4 flex justify-center items-center bg-cover bg-center"
  style="background-image:url('appointment-bg.jpg')">
  <div class="absolute inset-0 bg-black opacity-75"></div>

  <div class="relative z-10 w-full max-w-2xl">

    <!-- Breadcrumb -->
    <p class="text-sm text-gray-300 mb-4">
      Home / Appointment
    </p>

    <!-- Header -->
    <div class="text-center mb-8">
      <h1 class="text-4xl md:text-5xl font-bold text-white">
        Book Your Appointment
      </h1>
      <p class="text-gray-300 mt-3">
        One step away from expert guidance
      </p>
    </div>

    <div class="form-container p-6 sm:p-8">
      <form id="appointmentForm" class="space-y-6">

        <div>
          <input name="name" class="form-input" placeholder="Full Name *" required>
          <p class="text-xs text-gray-400 mt-1">As per official documents</p>
        </div>

        <input name="email" type="email" class="form-input" placeholder="Email Address *" required>

        <!-- Country + Phone -->
        <div class="flex gap-3">
          <input id="countryInput" list="countryList"
            class="form-input flex-1"
            placeholder="Country or code (India / +91) *"
            required>
          <input name="phone" class="form-input flex-1"
            placeholder="Phone number *" required>
        </div>

        <input type="hidden" name="countryCode" id="countryCode">
        <datalist id="countryList"></datalist>

        <input id="appointmentDate" name="date"
          class="form-input"
          placeholder="Appointment Date *" required>

        <select name="time" class="form-select" required>
          <option value="">Select Time *</option>
          <option>09:00 AM</option>
          <option>10:00 AM</option>
          <option>11:00 AM</option>
          <option>02:00 PM</option>
          <option>03:00 PM</option>
        </select>

        <textarea name="message" rows="3"
          class="form-textarea"
          placeholder="Brief message (optional)"></textarea>

        <button id="submitBtn" class="form-button w-full">
          Submit Appointment
        </button>

        <p class="text-xs text-gray-400 text-center">
          ðŸ”’ Your information is private & secure
        </p>

        <div id="spinner" class="hidden text-center">
          <div class="animate-spin h-10 w-10 border-t-4 border-blue-400 rounded-full mx-auto"></div>
        </div>

        <div id="successMsg"
          class="hidden text-green-400 text-center font-semibold">
          âœ… Appointment booked successfully!
        </div>

      </form>
    </div>
  </div>
</section>

<!-- ================= FOOTER ================= -->
<footer class="bg-indigo-950 py-4 text-center text-gray-300 text-sm">
  Â© 2025 JaQuest. All Rights Reserved.
</footer>

<!-- ================= SCRIPTS ================= -->
<script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
<script>
  flatpickr("#appointmentDate", { minDate: "today" });

  // Navbar toggle
  const menuBtn = document.getElementById("menuBtn");
  const mobileMenu = document.getElementById("mobileMenu");
  const closeBtn = document.getElementById("closeBtn");

  menuBtn.onclick = () => mobileMenu.classList.remove("-translate-x-full");
  closeBtn.onclick = () => mobileMenu.classList.add("-translate-x-full");

  // Countries
  const countries = [
    ["United States","+1"],["United Kingdom","+44"],["India","+91"],
    ["Nigeria","+234"],["Kenya","+254"],["Uganda","+256"],
    ["Tanzania","+255"],["South Africa","+27"],["UAE","+971"],
    ["Canada","+1"],["Australia","+61"],["Germany","+49"],
    ["France","+33"],["Italy","+39"],["Spain","+34"],
    ["China","+86"],["Japan","+81"],["Pakistan","+92"],
    ["Bangladesh","+880"],["Nepal","+977"],["Egypt","+20"],
    ["Ethiopia","+251"],["Ghana","+233"],["Rwanda","+250"],
    ["South Sudan","+211"]
  ];

  const list = document.getElementById("countryList");
  const countryInput = document.getElementById("countryInput");
  const countryCodeInput = document.getElementById("countryCode");

  countries.forEach(([name, code]) => {
    const opt = document.createElement("option");
    opt.value = `${name} (${code})`;
    list.appendChild(opt);
  });

  countryInput.addEventListener("input", () => {
    const match = countries.find(([name, code]) =>
      countryInput.value.toLowerCase().includes(name.toLowerCase()) ||
      countryInput.value.includes(code)
    );
    countryCodeInput.value = match ? match[1] : "";
  });

  // Form submit
  const form = document.getElementById("appointmentForm");
  const spinner = document.getElementById("spinner");
  const successMsg = document.getElementById("successMsg");
  const submitBtn = document.getElementById("submitBtn");

  form.addEventListener("submit", async e => {
    e.preventDefault();
    spinner.classList.remove("hidden");
    submitBtn.disabled = true;

    const data = Object.fromEntries(new FormData(form));

    try {
      await fetch("https://YOUR-BACKEND-URL/api/appointments", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify(data)
      });
      successMsg.classList.remove("hidden");
      form.reset();
    } catch {
      alert("Submission failed. Please try again.");
    } finally {
      spinner.classList.add("hidden");
      submitBtn.disabled = false;
    }
  });
</script>

</body>
</html>
